((a,o,s)=>{let n=e=>document.querySelector(e),r=e=>document.querySelectorAll(e);let l=n("#greeting"),i=["kia ora","h√´j","hƒÅllo","hello","–ó–¥—Ä–∞–≤–µ–π—Ç–µ","como est√°s","ŸÖÿ±ÿ≠ÿ®ÿß","‡§®‡§Æ‡§∏‡•ç‡§§‡•á","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","„Åì„Çì„Å´„Å°„ÅØ","heljo","wjat","üá≥üáø","üéÖ","üç∫","üèñ","ü§†","üí©","üÜí","sup dog","sup√© dog√©","¬øque pasa?"];var e=i[Math.floor(Math.random()*i.length)];l.innerText=e,document.title=e,l.addEventListener("click",()=>{var e=i[Math.floor(Math.random()*i.length)];l.innerText=e,document.title=e;let t=new a;t.addConfetti({confettiRadius:4,confettiNumber:300}),setTimeout(()=>{t.clearCanvas(),r("canvas")[0].remove()},5e3)});let d,c=Math.round(Date.now()),m;{var e=(e=void 0)||5,u=new Date(c),e=u.getDay()-e,v=document.getElementById("beer");let t=[{title:"Beer o'clock",date:u,emoji:"üç∫"}];m=t,0<e?u.setDate(u.getDate()+6):e<0&&u.setDate(u.getDate()+-1*e),u.setHours(16),u.setMinutes(0),u.setSeconds(0),(e=JSON.parse(localStorage.getItem("marksyEvents")))&&e.forEach(e=>{t.push(e)}),e=t.length,n(":root").style.setProperty("--duration",14*e+"s"),n(".calendar-count").textContent=e+" event"+(1<e?"s":""),e=t.sort((e,t)=>new o(e.date).format("X")-new o(t.date).format("X")).map(e=>{var t,a=new o;return`<li 
                class="${o(e.date)<a&&"Beer o'clock"!==e.title?"display-none":""}" 
                title="${o(e.date).format("ddd, Do MMMM YYYY")}">
                    <span class="${o(e.date)<a&&"Beer o'clock"!==e.title?"strike-through dim":""}">
                        ${e.title} ${t=e.date,o(t).fromNow()}
                    </span>
                    <span class="${o(e.date)<a&&"Beer o'clock"!==e.title?"dim":""}">
                        ${o(e.date)<a&&"Beer o'clock"!==e.title?"‚úÖ":e.emoji}
                    </span>
                </li>`}).join(""),v.innerHTML=`<div class="wrapper">
            <ul>
            ${e}
        </ul>
        <ul class="copy">
            ${e}
        </ul></div>
        `,d=u,v=n(":root"),e=n("#beer .wrapper ul").offsetWidth,v.style.setProperty("--amount",`-${e+2}px`)}let p=["January","February","March","May","April","June","July","August","September","October","November","December"],k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=n("#time"),H=n("#date");!function e(){{var t=new Date;let e=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}).replace(":","<span>:</span>");if(e.startsWith("0")?e=e.substring(1):e,g.innerHTML=e,H.innerHTML=`${k[t.getDay()]} ${t.getDate()} ${p[t.getMonth()]} `+t.getFullYear(),(new Date).toDateString()===d.toDateString()&&16===(new Date).getHours()&&0===(new Date).getMinutes()){let e=new a;e.addConfetti({emojis:["üçª","üç∫","üç∑","üç∏","üçπ","ü•Ç","üçæ","üßâ"],confettiRadius:1,confettiNumber:200}),new Notification("Beer o'clock",{body:"Grab yourself a cold one!",icon:"./beer.png"}),setTimeout(()=>{e.clearCanvas(),r("canvas")[0].remove()},5e3)}(JSON.parse(localStorage.getItem("marksyEvents"))||[]).forEach(e=>{var t;(new Date).toDateString()===new Date(e.date).toDateString()&&9===(new Date).getHours()&&30===(new Date).getMinutes()&&(t=e.title+" "+e.emoji,new Notification(e.title,{body:t,icon:"./default.png"}))})}setTimeout(()=>{e()},6e4)}();let h=n(".add-calendar-button"),w=n(".add-calendar-event-wrapper");u=n(".add-calendar-event-wrapper--cancel"),v=n(".add-calendar-event-wrapper--add");let b=n("#new-calendar-event-name"),f=n("#new-calendar-event-emoji"),L=n("#new-calendar-event-date"),E=n(".edit-calendar-button"),y=n(".dialog");e=n(".dialog-cancel");let C=n("#dialog-events"),S=JSON.parse(localStorage.getItem("marksyEvents"))||[],z=(0===S.length&&E.classList.add("hide"),h.addEventListener("click",()=>{h.classList.add("hide"),w.classList.add("show"),E.classList.add("hide"),b.focus()}),u.addEventListener("click",()=>{b.value="",f.value="",L.value="",h.classList.remove("hide"),w.classList.remove("show"),E.classList.remove("hide"),b.classList.remove("form-error"),f.classList.remove("form-error"),L.classList.remove("form-error")}),v.addEventListener("click",()=>{var e,t=JSON.parse(localStorage.getItem("marksyEvents"))||[];b.value||b.classList.add("form-error"),f.value||f.classList.add("form-error"),L.value||L.classList.add("form-error"),b.value&&L.value&&(e={title:b.value,emoji:f.value,date:L.value},t.push(e),localStorage.setItem("marksyEvents",JSON.stringify(t)),h.classList.remove("hide"),w.classList.remove("show"),E.classList.remove("hide"),location.reload())}),E.addEventListener("click",()=>{S=JSON.parse(localStorage.getItem("marksyEvents"))||[];let a="";S.forEach((e,t)=>{a+=`<div class="dialog-event"><span class="${o(e.date).isBefore(new Date)?"strike-through":""}">${e.title} - ${e.date}</span> <button type="button" class="delete-event" data-index="${t}">delete</button></div>`}),C.innerHTML=a,r(".delete-event").forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.index;S.splice(e,1),localStorage.setItem("marksyEvents",JSON.stringify(S)),y.close(),location.reload()})}),y.showModal()}),e.addEventListener("click",()=>{y.close()}),[{id:"sharesies",emoji:"üçç",title:"Sharesies",url:"https://app.sharesies.nz"},{id:"tv1-news",emoji:"üì∞",title:"TV1 news",url:"https://www.tvnz.co.nz/shows/one-news-at-6pm"},{id:"hacker-news",emoji:"üè¥‚Äç‚ò†Ô∏è",title:"Hacker news",url:"https://news.ycombinator.com"},{id:"rnz-news",emoji:"üìª",title:"RNZ news",url:"https://www.rnz.co.nz"},{id:"chat-gpt",emoji:"ü§ñ",title:"Chat GPT",url:"https://www.chatgpt.com"},{id:"reddit",emoji:"üëΩ",title:"Reddit",url:"https://www.reddit.com"}]),N=()=>JSON.parse(localStorage.getItem("marksyBookmarks"))&&0<JSON.parse(localStorage.getItem("marksyBookmarks")).length?JSON.parse(localStorage.getItem("marksyBookmarks")):[],D=()=>{var e=n(".links");let a="";0===N().length?a='<p>No bookmarks found. <button type="button" class="load-bookmarks">Load defaults</button> </p>':N().forEach((e,t)=>{a+=`<p><a href="${e.url}">${e.emoji} ${e.title}</a></p>`}),e.innerHTML=a;e=n(".load-bookmarks");e&&e.addEventListener("click",()=>{localStorage.setItem("marksyBookmarks",JSON.stringify(z)),D()})};D();u=n(".edit-bookmarks");let M=n(".bm-dialog"),F=n(".bookmark-contents"),$="",T=[];n(".bm-dialog-save").addEventListener("click",()=>{let t=[];N().forEach(e=>{T.includes(e.id)||t.push(e)}),localStorage.setItem("marksyBookmarks",JSON.stringify(t)),D(),$="",M.close()});n(".bm-dialog-cancel").addEventListener("click",()=>{M.close(),T=[]}),u.addEventListener("click",()=>{$="",N().forEach(e=>{$+=`<div class="row-item" id="${e.id}">${e.emoji} <span title="${e.url}">${e.title}</span> <button type="button" class="btn delete-event delete-bookmark">delete</button> </div>`}),F.innerHTML=$,r(".delete-bookmark").forEach((e,t)=>{e.addEventListener("click",()=>{e.parentElement.classList.contains("strike-through")?(e.parentElement.classList.remove("strike-through","dim"),T.pop(e.parentElement.id)):(e.parentElement.classList.add("strike-through","dim"),T.push(e.parentElement.id))})}),M.showModal()});v=n(".add-bookmark");let j=n(".add-bm-dialog");v.addEventListener("click",()=>{j.showModal()}),n("#bookmark-form").addEventListener("submit",e=>{e.preventDefault();var e=document.getElementById("new-bookmark-emoji"),t=document.getElementById("new-bookmark-name"),a=document.getElementById("new-bookmark-url"),o={id:s.kebabCase(t.value),title:t.value,url:a.value,emoji:e.value},r=(console.log(o),N());r.push(o),localStorage.setItem("marksyBookmarks",JSON.stringify(r)),t.value="",a.value="",e.value="",D(),j.close()});n(".add-bm-dialog-cancel").addEventListener("click",()=>{j.close()});let t=n("#enable-notifications"),B=(t.addEventListener("click",()=>{"Notification"in window?Notification.requestPermission().then(e=>{t.hidden="granted"===e}):console.log("This browser does not support notifications.")}),"granted"===Notification.permission&&(t.hidden=!0),n("#calculate-temperature-button")),I=n("#temperature-input"),J=n("#calculated-temperature-value-div"),O=n("#calculate-temperature-clear-button"),x;B.addEventListener("click",e=>{e.preventDefault();var e=n('[name="temperature-unit"]:checked'),t=I.value,e=e.value;x=(t=t,e=e,t=Number(t),isNaN(t)?(I.classList.add("form-error"),""):(I.classList.remove("form-error"),("f"===e?1.8*t+32:(t-32)/1.8).toFixed()+"Àö"+e)),J.innerText=x}),I.addEventListener("keyup",e=>{O.disabled=I.value.length<=0,B.disabled=I.value.length<=0}),O.addEventListener("click",()=>{I.classList.remove("form-error"),I.value="",J.innerText="",O.disabled=!0,B.disabled=!0});{let t=n("#calculate-speed-button"),a=n("#speed-input"),o=n("#calculated-speed-value-div"),r=n("#calculate-speed-clear-button"),s;t.addEventListener("click",e=>{e.preventDefault();var e=n('[name="speed-unit"]:checked'),t=a.value,e=e.value;s=(t=t,e=e,t=Number(t),isNaN(t)?(a.classList.add("form-error"),""):(a.classList.remove("form-error"),("mph"===e?.621371*t:t/.621371).toFixed()+" mph")),o.innerText=s}),a.addEventListener("keyup",e=>{r.disabled=a.value.length<=0,t.disabled=a.value.length<=0}),r.addEventListener("click",()=>{I.classList.remove("form-error"),I.value="",o.innerText="",r.disabled=!0,t.disabled=!0})}})(window.JSConfetti,window.moment,window._);