((s,o,n)=>{let l=e=>document.querySelector(e),i=e=>document.querySelectorAll(e),t=()=>Math.floor(331*Math.random())+30,a="60%, 35%",r="70%, 50%",d=(window.CSS.registerProperty({name:"--main-bg-color-1",syntax:"<color>",initialValue:`hsl(${t()}, ${window.matchMedia("(prefers-color-scheme: dark)").matches?a:r})`,inherits:!1}),window.CSS.registerProperty({name:"--main-bg-color-2",syntax:"<color>",initialValue:`hsl(${t()}, ${window.matchMedia("(prefers-color-scheme: dark)").matches?a:r})`,inherits:!1}),window.CSS.registerProperty({name:"--main-bg-color-3",syntax:"<color>",initialValue:`hsl(${t()}, ${window.matchMedia("(prefers-color-scheme: dark)").matches?a:r})`,inherits:!1}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e=e.matches?"dark":"light";console.log(e),"dark"==e?(document.documentElement.style.setProperty("--main-bg-color-1",`hsl(${t()}, ${a})`),document.documentElement.style.setProperty("--main-bg-color-2",`hsl(${t()}, ${a})`),document.documentElement.style.setProperty("--main-bg-color-3",`hsl(${t()}, ${a})`)):(document.documentElement.style.setProperty("--main-bg-color-1",`hsl(${t()}, ${r})`),document.documentElement.style.setProperty("--main-bg-color-2",`hsl(${t()}, ${r})`),document.documentElement.style.setProperty("--main-bg-color-3",`hsl(${t()}, ${r})`))}),l("#greeting")),c=["kia ora","h√´j","hƒÅllo","hello","–ó–¥—Ä–∞–≤–µ–π—Ç–µ","como est√°s","ŸÖÿ±ÿ≠ÿ®ÿß","‡§®‡§Æ‡§∏‡•ç‡§§‡•á","‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ","„Åì„Çì„Å´„Å°„ÅØ","heljo","wjat","üá≥üáø","üéÖ","üç∫","üèñ","ü§†","üí©","üÜí","sup dog","sup√© dog√©","¬øque pasa?"];var e=c[Math.floor(Math.random()*c.length)];d.innerText=e,document.title=e,d.addEventListener("click",()=>{var e=c[Math.floor(Math.random()*c.length)];d.innerText=e,document.title=e;let t=new s;t.addConfetti({confettiRadius:4,confettiNumber:300}),setTimeout(()=>{t.clearCanvas(),i("canvas")[0].remove()},5e3)});let m,u=Math.round(Date.now()),P;{var e=(e=void 0)||5,v=new Date(u),e=v.getDay()-e,h=document.getElementById("beer");let t=[{title:"Beer o'clock",date:v,emoji:"üç∫"}];P=t,0<e?v.setDate(v.getDate()+6):e<0&&v.setDate(v.getDate()+-1*e),v.setHours(16),v.setMinutes(0),v.setSeconds(0),(e=JSON.parse(localStorage.getItem("marksyEvents")))&&e.forEach(e=>{t.push(e)}),e=t.length,l(":root").style.setProperty("--duration",14*e+"s"),l(".calendar-count").textContent=e+" event"+(1<e?"s":""),e=t.sort((e,t)=>new o(e.date).format("X")-new o(t.date).format("X")).map(e=>{var t,a=new o;return`<li 
                class="${o(e.date)<a&&"Beer o'clock"!==e.title?"display-none":""}" 
                title="${o(e.date).format("ddd, Do MMMM YYYY")}">
                    <span class="${o(e.date)<a&&"Beer o'clock"!==e.title?"strike-through dim":""}">
                        ${e.title} ${t=e.date,o(t).fromNow()}
                    </span>
                    <span class="${o(e.date)<a&&"Beer o'clock"!==e.title?"dim":""}">
                        ${o(e.date)<a&&"Beer o'clock"!==e.title?"‚úÖ":e.emoji}
                    </span>
                </li>`}).join(""),h.innerHTML=`<div class="wrapper">
            <ul>
            ${e}
        </ul>
        <ul class="copy">
            ${e}
        </ul></div>
        `,m=v,h=l(":root"),e=l("#beer .wrapper ul").offsetWidth,h.style.setProperty("--amount",`-${e+2}px`)}let C=["January","February","March","May","April","June","July","August","September","October","November","December"],H=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],z=l("#time"),F=l("#us-time"),Y=l("#date"),p=()=>{(()=>{var e=new Date,t=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),a=(new Date).toLocaleString("en-US",{hour:"2-digit",minute:"2-digit",timeZone:"America/Chicago"});let o=t.replace(":",'<span class="blink">:</span>'),r=(o.startsWith("0")?o=o.substring(1):o,z.innerHTML=o,a.replace(":",'<span class="blink">:</span>'));if(r.startsWith("0")?r=r.substring(1):r,F.innerHTML="üåé "+r,Y.innerHTML=`${H[e.getDay()]} ${e.getDate()} ${C[e.getMonth()]} `+e.getFullYear(),(new Date).toDateString()===m.toDateString()&&16===(new Date).getHours()&&0===(new Date).getMinutes()){let e=new s;e.addConfetti({emojis:["üçª","üç∫","üç∑","üç∏","üçπ","ü•Ç","üçæ","üßâ"],confettiRadius:1,confettiNumber:200});new Notification("Beer o'clock",{body:"Grab yourself a cold one!",icon:"./beer.png"}),setTimeout(()=>{e.clearCanvas(),i("canvas")[0].remove()},5e3)}(JSON.parse(localStorage.getItem("marksyEvents"))||[]).forEach(e=>{var t;(new Date).toDateString()===new Date(e.date).toDateString()&&9===(new Date).getHours()&&30===(new Date).getMinutes()&&(t=e.title+" "+e.emoji,new Notification(e.title,{body:t,icon:"./default.png"}))})})(),setTimeout(()=>{p()},6e4)},g=(p(),l(".add-calendar-button")),k=l(".add-calendar-event-wrapper");v=l(".add-calendar-event-wrapper--cancel"),h=l(".add-calendar-event-wrapper--add");let w=l("#new-calendar-event-name"),b=l("#new-calendar-event-emoji"),f=l("#new-calendar-event-date"),y=l(".edit-calendar-button"),L=l(".dialog");e=l(".dialog-cancel");let q=l("#dialog-events"),E=JSON.parse(localStorage.getItem("marksyEvents"))||[],A=(0===E.length&&y.classList.add("hide"),g.addEventListener("click",()=>{g.classList.add("hide"),k.classList.add("show"),y.classList.add("hide"),w.focus()}),v.addEventListener("click",()=>{w.value="",b.value="",f.value="",g.classList.remove("hide"),k.classList.remove("show"),y.classList.remove("hide"),w.classList.remove("form-error"),b.classList.remove("form-error"),f.classList.remove("form-error")}),h.addEventListener("click",()=>{var e,t=JSON.parse(localStorage.getItem("marksyEvents"))||[];w.value||w.classList.add("form-error"),b.value||b.classList.add("form-error"),f.value||f.classList.add("form-error"),w.value&&f.value&&(e={title:w.value,emoji:b.value,date:f.value},t.push(e),localStorage.setItem("marksyEvents",JSON.stringify(t)),g.classList.remove("hide"),k.classList.remove("show"),y.classList.remove("hide"),location.reload())}),y.addEventListener("click",()=>{E=JSON.parse(localStorage.getItem("marksyEvents"))||[];let a="";E.forEach((e,t)=>{a+=`<div class="dialog-event"><span class="${o(e.date).isBefore(new Date)?"strike-through":""}">${e.title} - ${e.date}</span> <button type="button" class="delete-event" data-index="${t}">delete</button></div>`}),q.innerHTML=a,i(".delete-event").forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.index;E.splice(e,1),localStorage.setItem("marksyEvents",JSON.stringify(E)),L.close(),location.reload()})}),L.showModal()}),e.addEventListener("click",()=>{L.close()}),[{id:"sharesies",emoji:"üçç",title:"Sharesies",url:"https://app.sharesies.nz"},{id:"tv1-news",emoji:"üì∞",title:"TV1 news",url:"https://www.tvnz.co.nz/shows/one-news-at-6pm"},{id:"hacker-news",emoji:"üè¥‚Äç‚ò†Ô∏è",title:"Hacker news",url:"https://news.ycombinator.com"},{id:"rnz-news",emoji:"üìª",title:"RNZ news",url:"https://www.rnz.co.nz"},{id:"chat-gpt",emoji:"ü§ñ",title:"Chat GPT",url:"https://www.chatgpt.com"},{id:"reddit",emoji:"üëΩ",title:"Reddit",url:"https://www.reddit.com"}]),S=()=>JSON.parse(localStorage.getItem("marksyBookmarks"))&&0<JSON.parse(localStorage.getItem("marksyBookmarks")).length?JSON.parse(localStorage.getItem("marksyBookmarks")):[],$=()=>{var e=l(".links");let a="";0===S().length?a='<p>No bookmarks found. <button type="button" class="load-bookmarks">Load defaults</button> </p>':S().forEach((e,t)=>{a+=`<p><a href="${e.url}">${e.emoji} ${e.title}</a></p>`}),e.innerHTML=a;e=l(".load-bookmarks");e&&e.addEventListener("click",()=>{localStorage.setItem("marksyBookmarks",JSON.stringify(A)),$()})};$();v=l(".edit-bookmarks");let M=l(".bm-dialog"),R=l(".bookmark-contents"),N="",D=[];l(".bm-dialog-save").addEventListener("click",()=>{let t=[];S().forEach(e=>{D.includes(e.id)||t.push(e)}),localStorage.setItem("marksyBookmarks",JSON.stringify(t)),$(),N="",M.close()});l(".bm-dialog-cancel").addEventListener("click",()=>{M.close(),D=[]}),v.addEventListener("click",()=>{N="",S().forEach(e=>{N+=`<div class="row-item" id="${e.id}">${e.emoji} <span title="${e.url}">${e.title}</span> <button type="button" class="btn delete-event delete-bookmark">delete</button> </div>`}),R.innerHTML=N,i(".delete-bookmark").forEach((e,t)=>{e.addEventListener("click",()=>{e.parentElement.classList.contains("strike-through")?(e.parentElement.classList.remove("strike-through","dim"),D.pop(e.parentElement.id)):(e.parentElement.classList.add("strike-through","dim"),D.push(e.parentElement.id))})}),M.showModal()});h=l(".add-bookmark");let T=l(".add-bm-dialog");h.addEventListener("click",()=>{T.showModal()}),l("#bookmark-form").addEventListener("submit",e=>{e.preventDefault();var e=document.getElementById("new-bookmark-emoji"),t=document.getElementById("new-bookmark-name"),a=document.getElementById("new-bookmark-url"),o={id:n.kebabCase(t.value),title:t.value,url:a.value,emoji:e.value},r=(console.log(o),S());r.push(o),localStorage.setItem("marksyBookmarks",JSON.stringify(r)),t.value="",a.value="",e.value="",$(),T.close()});l(".add-bm-dialog-cancel").addEventListener("click",()=>{T.close()});let j=l("#enable-notifications"),B=(j.addEventListener("click",()=>{"Notification"in window?Notification.requestPermission().then(e=>{j.hidden="granted"===e}):console.log("This browser does not support notifications.")}),"granted"===Notification.permission&&(j.hidden=!0),l("#calculate-temperature-button")),I=l("#temperature-input"),J=l("#calculated-temperature-value-div"),x=l("#calculate-temperature-clear-button"),O;B.addEventListener("click",e=>{e.preventDefault();var e=l('[name="temperature-unit"]:checked'),t=I.value,e=e.value;O=(t=t,e=e,t=Number(t),isNaN(t)?(I.classList.add("form-error"),""):(I.classList.remove("form-error"),("f"===e?1.8*t+32:(t-32)/1.8).toFixed()+"Àö"+e)),J.innerText=O}),I.addEventListener("keyup",e=>{x.disabled=I.value.length<=0,B.disabled=I.value.length<=0}),x.addEventListener("click",()=>{I.classList.remove("form-error"),I.value="",J.innerText="",x.disabled=!0,B.disabled=!0});{let t=l("#calculate-speed-button"),a=l("#speed-input"),o=l("#calculated-speed-value-div"),r=l("#calculate-speed-clear-button"),s;t.addEventListener("click",e=>{e.preventDefault();var e=l('[name="speed-unit"]:checked'),t=a.value,e=e.value;s=(t=t,e=e,t=Number(t),isNaN(t)?(a.classList.add("form-error"),""):(a.classList.remove("form-error"),("mph"===e?.621371*t:t/.621371).toFixed()+" mph")),o.innerText=s}),a.addEventListener("keyup",e=>{r.disabled=a.value.length<=0,t.disabled=a.value.length<=0}),r.addEventListener("click",()=>{I.classList.remove("form-error"),I.value="",o.innerText="",r.disabled=!0,t.disabled=!0})}})(window.JSConfetti,window.moment,window._);